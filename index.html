<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Be My Valentine ðŸ’–</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Pretty fonts -->
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&family=Poppins:wght@400;500&display=swap" rel="stylesheet">

<style>
body {
  margin: 0;
  height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  font-family: 'Poppins', sans-serif;
  background: radial-gradient(circle at top, #ffd6e7, #f8b4c6);
  overflow: hidden;
  color: #1f3c88;
}

/* Card */
.card {
  background: linear-gradient(180deg, #fff0f6, #ffe4ef);
  padding: 38px 30px;
  border-radius: 28px;
  text-align: center;
  width: min(390px, 90vw);
  box-shadow: 0 30px 70px rgba(0,0,0,0.2);
  position: relative;
  animation: fadeIn 0.6s ease;
}

@keyframes fadeIn {
  from { opacity: 0; transform: scale(0.96); }
  to { opacity: 1; transform: scale(1); }
}

h1 {
  font-family: 'Playfair Display', serif;
  font-size: 22px;
}

p {
  font-size: 17px;
  margin: 14px 0;
  line-height: 1.6;
}

/* Buttons */
button {
  padding: 14px 32px;
  border: none;
  border-radius: 40px;
  font-size: 15px;
  cursor: pointer;
  transition: 0.3s;
  margin-top: 22px;
  font-family: 'Poppins', sans-serif;
}

.primary,
#yesBtn {
  background: linear-gradient(135deg, #1f3c88, #5b8cff);
  color: white;
  box-shadow: 0 10px 25px rgba(31,60,136,0.35);
}

.primary:hover,
#yesBtn:hover {
  transform: scale(1.08);
}

/* NO button */
#noBtn {
  background: #ffdbe8;
  color: #1f3c88;
  position: absolute;
}

/* Hover hint */
#hoverHint {
  font-size: 13px;
  margin-top: 8px;
  opacity: 0;
  transition: 0.3s;
  color: #1f3c88;
}

/* Busy fiancÃ© text */
#delayText {
  font-size: 14px;
  margin-top: 14px;
  opacity: 0;
  transition: 0.5s;
}

/* Success */
.success {
  font-size: 19px;
  line-height: 1.7;
  animation: pop 0.5s ease;
}

@keyframes pop {
  from {transform: scale(0.8); opacity:0;}
  to {transform: scale(1); opacity:1;}
}

/* Sparkles */
.sparkle {
  position: fixed;
  font-size: 14px;
  animation: sparklePop 1.5s ease forwards;
  pointer-events: none;
}

@keyframes sparklePop {
  0% {opacity:0; transform:scale(0);}
  40% {opacity:1; transform:scale(1.4);}
  100% {opacity:0; transform:scale(0.6);}
}

/* Hearts */
.heart {
  position: fixed;
  font-size: 20px;
  animation: floatUp 3.5s ease forwards;
}

@keyframes floatUp {
  to {
    transform: translateY(-120vh);
    opacity: 0;
  }
}
</style>
</head>

<body>

<div class="card" id="card">
  <h1>Hi Ibhi.</h1>
  <p>I know you donâ€™t like chochla.</p>
  <p>Unfortunately for you, I do.</p>
  <button class="primary" onclick="startStep2()">Okayâ€¦ continue</button>
</div>
<script>
const card = document.getElementById("card");

/* STEP 2 */
function startStep2() {
  card.innerHTML = `
    <p id="l1"></p>
    <p id="l2" style="font-weight:600; color:#ff4d8d;"></p>
    <p id="l3"></p>
    <button class="primary" id="cont" style="display:none" onclick="showQuestion()">Fine. Ask.</button>
  `;

  type("It all started with me losing a challenge.", "l1", () => {
    setTimeout(() => {
      type("And here we are nowâ€¦ engaged ðŸ’", "l2", () => {
        sparkleStorm();
        setTimeout(() => {
          type("Weâ€™ve done it all, so one more chochla wonâ€™t hurt.", "l3", () => {
            document.getElementById("cont").style.display = "inline-block";
          });
        }, 600);
      });
    }, 600);
  });
}

function type(text, id, cb) {
  let i = 0;
  const el = document.getElementById(id);
  const t = setInterval(() => {
    el.innerHTML += text.charAt(i++);
    if (i === text.length) {
      clearInterval(t);
      if (cb) cb();
    }
  }, 45);
}

/* Sparkles when engaged */
function sparkleStorm() {
  for (let i = 0; i < 18; i++) {
    const s = document.createElement("div");
    s.className = "sparkle";
    s.innerHTML = Math.random() > 0.5 ? "âœ¨" : "ðŸ’«";
    s.style.left = Math.random()*100 + "vw";
    s.style.top = Math.random()*100 + "vh";
    document.body.appendChild(s);
    setTimeout(() => s.remove(), 1500);
  }
}

/* STEP 3 */
function showQuestion() {
  card.innerHTML = `
    <h1>
     so IBHII,<br><br>
      Will you be my Valentine?
    </h1>

    <!-- buttons start side-by-side naturally -->
    <div style="display:flex; justify-content:center; gap:14px;">
      <button id="yesBtn">Yes ðŸ’–</button>
      <button id="noBtn">No</button>
    </div>

    <div id="hoverHint">Correct choice.</div>
    <div id="delayText"></div>
  `;

  const yes = document.getElementById("yesBtn");
  const no = document.getElementById("noBtn");
  const hint = document.getElementById("hoverHint");
  const delay = document.getElementById("delayText");

  /* STARTING STATE â€” important */
  no.style.position = "relative";   // âœ… sits beside YES initially

  let activated = false; // ðŸš¨ becomes dramatic only after hover
  let texts = [
    "Nope.",
    "Nice try.",
    "Absolutely not.",
    "Wrong Direction.",
    "Still wrong.",
    "Stop Embaressing yourself.",
    "Ibhi.",
    "You have no choice, my love."
  ];
  let n = 0;

  function moveNo() {
    if (!activated) {
      activated = true;
      no.style.position = "absolute"; // ðŸ’¥ NOW it runs
    }

    no.style.left = Math.random()*260 + "px";
    no.style.top = Math.random()*200 + "px";

    if (n < texts.length) no.innerText = texts[n++];
  }

  no.onmouseover = moveNo;
  no.onclick = moveNo;

  setTimeout(() => {
    delay.innerText = "I know youâ€™re pretending to think.";
    delay.style.opacity = 1;
  }, 4000);

  yes.onmouseenter = () => hint.style.opacity = 1;
  yes.onmouseleave = () => hint.style.opacity = 0;

  let yesTexts = [
    "Yes ðŸ’–",
    "Say it properly",
    "Yes I will be your Valentine Nakku Baby ðŸ’"
  ];
  let y = 0;

  yes.onclick = () => {
    if (y < yesTexts.length - 1) {
      yes.innerText = yesTexts[++y];
      return;
    }

    card.innerHTML = `
      <div class="success">
        Good Choice (as if you had any other option).<br><br>
        Iâ€™ll pick you up at 7.<br>
        <em>Donâ€™t pretend you werenâ€™t waiting for this.</em><br>
        I LOVE YOU ðŸ’–
      </div>
    `;
    heartShower();
  };
}

/* Heart shower */
function heartShower() {
  setInterval(() => {
    const heart = document.createElement("div");
    heart.className = "heart";
    heart.innerHTML = "ðŸ’—";
    heart.style.left = Math.random() * 100 + "vw";
    heart.style.top = "100vh";
    heart.style.fontSize = 18 + Math.random()*20 + "px";
    document.body.appendChild(heart);
    setTimeout(() => heart.remove(), 4000);
  }, 180);
}

/* Heart formation on page tap */
document.body.addEventListener("click", e => {
  if (!e.target.closest("button")) {
    const points = [
      [0,20],[10,10],[20,0],[30,10],[40,20],
      [30,30],[20,40],[10,30]
    ];
    points.forEach(p => {
      const h = document.createElement("div");
      h.className = "heart";
      h.innerHTML = "ðŸ’—";
      h.style.left = e.clientX + p[0] + "px";
      h.style.top = e.clientY + p[1] + "px";
      document.body.appendChild(h);
      setTimeout(() => h.remove(), 3000);
    });
  }
});
</script>

</body>
</html>
